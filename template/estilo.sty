% estilo.sty - Estilo personalizado para documentos académicos
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{estilo}[Estilo personalizado para documentos académicos]

% ===== PAQUETES BÁSICOS =====
\RequirePackage[spanish]{babel}
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage{fancyhdr}
\RequirePackage{lastpage}
\RequirePackage{graphicx}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{logicproof}

% ===== CONFIGURACIÓN DE PÁGINA =====
\pagestyle{fancy}
\fancyhf{} % Limpiar cabeceras y pies previos

% --- Configuración de CABECERAS ---
\fancyhead[LO]{\titlerunning}
\fancyhead[RE]{\authorrunning}

% --- Configuración de PIES ---
\fancyfoot[C]{\thepage}

% Línea de cabecera (0pt para invisible)
\renewcommand{\headrulewidth}{0pt}

% Estilo para página de título (plain)
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{\thepage} % En la portada, el número suele ir abajo al centro
    \renewcommand{\headrulewidth}{0pt}
}

% ===== COMANDOS PERSONALIZADOS =====
% Título y autor running
\newcommand{\titlerunning}{}
\newcommand{\authorrunning}{}

% Comando para título running
\newcommand{\settitlerunning}[1]{\renewcommand{\titlerunning}{#1}}
\newcommand{\setauthorrunning}[1]{\renewcommand{\authorrunning}{#1}}

% Comando para abstract en español
\renewenvironment{abstract}
    {\small
     \begin{center}
       \bfseries \abstractname
     \end{center}
     \quotation}
    {\endquotation}

% Comando para palabras clave
\newcommand{\keywords}[1]{%
    \par\addvspace\baselineskip
    \noindent\textbf{Palabras clave:} #1%
}

% ===== CONFIGURACIÓN DE SECCIONES =====
% Espaciado entre secciones
\usepackage{titlesec}
\titleformat{\section}
  {\normalfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\large\bfseries}{\thesubsection}{1em}{}
  
\titlespacing*{\section}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
\titlespacing*{\subsection}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

% ===== BIBLIOGRAFÍA MEJORADA =====
\newcommand{\bibheader}{%
    \section*{\refname}%
    \addcontentsline{toc}{section}{\refname}%
}

% ===== MÁRGENES =====
\usepackage[top=3cm, bottom=3cm, left=3cm, right=2.5cm]{geometry}

% ===== MEJORAS TIPOGRÁFICAS =====
\usepackage{microtype} % Mejoras tipográficas
\usepackage{setspace}  % Interlineado
\onehalfspacing        % Interlineado 1.5

% ===== PERSONALIZACIÓN DE PORTADA =====
% 1. Definir la variable interna para el instituto
\newcommand{\@institute}{}

% 2. Crear el comando público \institute para usar en el .tex
\newcommand{\institute}[1]{\renewcommand{\@institute}{#1}}

% 3. Redefinir \maketitle para incluir el instituto como subtítulo
\renewcommand{\maketitle}{%
  \begin{center}
    \vspace*{1cm}
    {\LARGE \bfseries \@title \par}      % Título principal grande
    \vspace{0.8cm}
    {\large \itshape \@institute \par}  % Instituto (Subtítulo) en cursiva y menor tamaño
    \vspace{1.0cm}
    {\bfseries \@author \par}    % Autor
    \vspace{0.5cm}
    {\@date \par}                % Fecha
  \end{center}
  \thispagestyle{plain} % Asegura que la portada tenga el estilo correcto (número abajo)
  \vspace{1cm}
}

% ===== PERSONALIZACIÓN DE LISTAS =====
\renewcommand{\labelitemi}{$\bullet$}    % Level 1
\renewcommand{\labelitemii}{$\circ$}     % Level 2  
\renewcommand{\labelitemiii}{$-$}        % Level 3


% ===== PERSONALIZACIÓN DE TABLAS =====
\renewcommand{\arraystretch}{1.2} % Da un poco más de aire a las filas

% ===== CONFIGURACIÓN DE CAPTIONS (Tablas y Figuras) =====
\renewcommand{\arraystretch}{1.2} % Da un poco más de aire a las filas

\endinput